{"dependencies":[{"name":"expo/virtual/env","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dgHc21cgR+buKc7O3/dChhD5JJk=","exportNames":["*"],"imports":1}},{"name":"expo-constants","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":39,"index":39}}],"key":"pPv5KzfRT0rL6NCr7G9k0o4d1W8=","exportNames":["*"],"imports":1}},{"name":"expo-notifications","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":40},"end":{"line":2,"column":52,"index":92}}],"key":"nrBDtkRVez7cBhLzyaRjl+xVfvE=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  Object.defineProperty(exports, \"initializeOneSignal\", {\n    enumerable: true,\n    get: function () {\n      return initializeOneSignal;\n    }\n  });\n  Object.defineProperty(exports, \"sendNotification\", {\n    enumerable: true,\n    get: function () {\n      return sendNotification;\n    }\n  });\n  Object.defineProperty(exports, \"addNotificationListener\", {\n    enumerable: true,\n    get: function () {\n      return addNotificationListener;\n    }\n  });\n  Object.defineProperty(exports, \"addNotificationResponseListener\", {\n    enumerable: true,\n    get: function () {\n      return addNotificationResponseListener;\n    }\n  });\n  var _expoVirtualEnv = require(_dependencyMap[0], \"expo/virtual/env\");\n  var _expoConstants = require(_dependencyMap[1], \"expo-constants\");\n  var Constants = _interopDefault(_expoConstants);\n  var _expoNotifications = require(_dependencyMap[2], \"expo-notifications\");\n  var Notifications = _interopNamespace(_expoNotifications);\n  const ONESIGNAL_APP_ID = Constants.default.expoConfig?.extra?.EXPO_PUBLIC_ONESIGNAL_APP_ID || _expoVirtualEnv.env.EXPO_PUBLIC_ONESIGNAL_APP_ID;\n\n  // Configurar el comportamiento de las notificaciones\n  Notifications.setNotificationHandler({\n    handleNotification: async () => ({\n      shouldShowAlert: true,\n      shouldPlaySound: true,\n      shouldSetBadge: true\n    })\n  });\n  const initializeOneSignal = async () => {\n    try {\n      // Solicitar permisos de notificaciones\n      const {\n        status: existingStatus\n      } = await Notifications.getPermissionsAsync();\n      let finalStatus = existingStatus;\n      if (existingStatus !== 'granted') {\n        const {\n          status\n        } = await Notifications.requestPermissionsAsync();\n        finalStatus = status;\n      }\n      if (finalStatus !== 'granted') {\n        console.warn('Failed to get push token for push notification!');\n        return null;\n      }\n\n      // Obtener el token de notificaciÃ³n\n      const token = (await Notifications.getExpoPushTokenAsync()).data;\n      console.log('Push notification token:', token);\n      return token;\n    } catch (error) {\n      console.error('Error initializing notifications:', error);\n      return null;\n    }\n  };\n  const sendNotification = async (title, body, data) => {\n    try {\n      await Notifications.scheduleNotificationAsync({\n        content: {\n          title,\n          body,\n          data,\n          sound: true\n        },\n        trigger: null // Enviar inmediatamente\n      });\n    } catch (error) {\n      console.error('Error sending notification:', error);\n    }\n  };\n  const addNotificationListener = callback => {\n    return Notifications.addNotificationReceivedListener(callback);\n  };\n  const addNotificationResponseListener = callback => {\n    return Notifications.addNotificationResponseReceivedListener(callback);\n  };\n});","lineCount":114,"map":[[27,2,16,0,"Object"],[27,8,16,0],[27,9,16,0,"defineProperty"],[27,23,16,0],[27,24,16,0,"exports"],[27,31,16,0],[28,4,16,0,"enumerable"],[28,14,16,0],[29,4,16,0,"get"],[29,7,16,0],[29,18,16,0,"get"],[29,19,16,0],[30,6,16,0],[30,13,16,0,"initializeOneSignal"],[30,32,16,0],[31,4,16,0],[32,2,16,0],[33,2,43,0,"Object"],[33,8,43,0],[33,9,43,0,"defineProperty"],[33,23,43,0],[33,24,43,0,"exports"],[33,31,43,0],[34,4,43,0,"enumerable"],[34,14,43,0],[35,4,43,0,"get"],[35,7,43,0],[35,18,43,0,"get"],[35,19,43,0],[36,6,43,0],[36,13,43,0,"sendNotification"],[36,29,43,0],[37,4,43,0],[38,2,43,0],[39,2,59,0,"Object"],[39,8,59,0],[39,9,59,0,"defineProperty"],[39,23,59,0],[39,24,59,0,"exports"],[39,31,59,0],[40,4,59,0,"enumerable"],[40,14,59,0],[41,4,59,0,"get"],[41,7,59,0],[41,18,59,0,"get"],[41,19,59,0],[42,6,59,0],[42,13,59,0,"addNotificationListener"],[42,36,59,0],[43,4,59,0],[44,2,59,0],[45,2,63,0,"Object"],[45,8,63,0],[45,9,63,0,"defineProperty"],[45,23,63,0],[45,24,63,0,"exports"],[45,31,63,0],[46,4,63,0,"enumerable"],[46,14,63,0],[47,4,63,0,"get"],[47,7,63,0],[47,18,63,0,"get"],[47,19,63,0],[48,6,63,0],[48,13,63,0,"addNotificationResponseListener"],[48,44,63,0],[49,4,63,0],[50,2,63,0],[51,2,65,2],[51,6,65,2,"_expoVirtualEnv"],[51,21,65,2],[51,24,65,2,"require"],[51,31,65,2],[51,32,65,2,"_dependencyMap"],[51,46,65,2],[52,2,1,0],[52,6,1,0,"_expoConstants"],[52,20,1,0],[52,23,1,0,"require"],[52,30,1,0],[52,31,1,0,"_dependencyMap"],[52,45,1,0],[53,2,1,0],[53,6,1,0,"Constants"],[53,15,1,0],[53,18,1,0,"_interopDefault"],[53,33,1,0],[53,34,1,0,"_expoConstants"],[53,48,1,0],[54,2,2,0],[54,6,2,0,"_expoNotifications"],[54,24,2,0],[54,27,2,0,"require"],[54,34,2,0],[54,35,2,0,"_dependencyMap"],[54,49,2,0],[55,2,2,0],[55,6,2,0,"Notifications"],[55,19,2,0],[55,22,2,0,"_interopNamespace"],[55,39,2,0],[55,40,2,0,"_expoNotifications"],[55,58,2,0],[56,2,5,0],[56,8,5,6,"ONESIGNAL_APP_ID"],[56,24,5,22],[56,27,5,25,"Constants"],[56,36,5,34],[56,37,5,34,"default"],[56,44,5,34],[56,45,5,35,"expoConfig"],[56,55,5,45],[56,57,5,47,"extra"],[56,62,5,52],[56,64,5,54,"EXPO_PUBLIC_ONESIGNAL_APP_ID"],[56,92,5,82],[56,96,5,82,"_expoVirtualEnv"],[56,111,5,82],[56,112,5,82,"env"],[56,115,5,82],[56,116,5,82,"EXPO_PUBLIC_ONESIGNAL_APP_ID"],[56,144,5,126],[58,2,7,0],[59,2,8,0,"Notifications"],[59,15,8,13],[59,16,8,14,"setNotificationHandler"],[59,38,8,36],[59,39,8,37],[60,4,9,2,"handleNotification"],[60,22,9,20],[60,24,9,22],[60,30,9,22,"handleNotification"],[60,31,9,22],[60,37,9,35],[61,6,10,4,"shouldShowAlert"],[61,21,10,19],[61,23,10,21],[61,27,10,25],[62,6,11,4,"shouldPlaySound"],[62,21,11,19],[62,23,11,21],[62,27,11,25],[63,6,12,4,"shouldSetBadge"],[63,20,12,18],[63,22,12,20],[64,4,13,2],[64,5,13,3],[65,2,14,0],[65,3,14,1],[65,4,14,2],[66,2,16,7],[66,8,16,13,"initializeOneSignal"],[66,27,16,32],[66,30,16,35],[66,36,16,35,"initializeOneSignal"],[66,37,16,35],[66,42,16,47],[67,4,17,2],[67,8,17,6],[68,6,18,4],[69,6,19,4],[69,12,19,10],[70,8,19,12,"status"],[70,14,19,18],[70,16,19,20,"existingStatus"],[71,6,19,35],[71,7,19,36],[71,10,19,39],[71,16,19,45,"Notifications"],[71,29,19,58],[71,30,19,59,"getPermissionsAsync"],[71,49,19,78],[71,50,19,79],[71,51,19,80],[72,6,20,4],[72,10,20,8,"finalStatus"],[72,21,20,19],[72,24,20,22,"existingStatus"],[72,38,20,36],[73,6,22,4],[73,10,22,8,"existingStatus"],[73,24,22,22],[73,29,22,27],[73,38,22,36],[73,40,22,38],[74,8,23,6],[74,14,23,12],[75,10,23,14,"status"],[76,8,23,21],[76,9,23,22],[76,12,23,25],[76,18,23,31,"Notifications"],[76,31,23,44],[76,32,23,45,"requestPermissionsAsync"],[76,55,23,68],[76,56,23,69],[76,57,23,70],[77,8,24,6,"finalStatus"],[77,19,24,17],[77,22,24,20,"status"],[77,28,24,26],[78,6,25,4],[79,6,27,4],[79,10,27,8,"finalStatus"],[79,21,27,19],[79,26,27,24],[79,35,27,33],[79,37,27,35],[80,8,28,6,"console"],[80,15,28,13],[80,16,28,14,"warn"],[80,20,28,18],[80,21,28,19],[80,70,28,68],[80,71,28,69],[81,8,29,6],[81,15,29,13],[81,19,29,17],[82,6,30,4],[84,6,32,4],[85,6,33,4],[85,12,33,10,"token"],[85,17,33,15],[85,20,33,18],[85,21,33,19],[85,27,33,25,"Notifications"],[85,40,33,38],[85,41,33,39,"getExpoPushTokenAsync"],[85,62,33,60],[85,63,33,61],[85,64,33,62],[85,66,33,64,"data"],[85,70,33,68],[86,6,34,4,"console"],[86,13,34,11],[86,14,34,12,"log"],[86,17,34,15],[86,18,34,16],[86,44,34,42],[86,46,34,44,"token"],[86,51,34,49],[86,52,34,50],[87,6,36,4],[87,13,36,11,"token"],[87,18,36,16],[88,4,37,2],[88,5,37,3],[88,6,37,4],[88,13,37,11,"error"],[88,18,37,16],[88,20,37,18],[89,6,38,4,"console"],[89,13,38,11],[89,14,38,12,"error"],[89,19,38,17],[89,20,38,18],[89,55,38,53],[89,57,38,55,"error"],[89,62,38,60],[89,63,38,61],[90,6,39,4],[90,13,39,11],[90,17,39,15],[91,4,40,2],[92,2,41,0],[92,3,41,1],[93,2,43,7],[93,8,43,13,"sendNotification"],[93,24,43,29],[93,27,43,32],[93,33,43,32,"sendNotification"],[93,34,43,39,"title"],[93,39,43,52],[93,41,43,54,"body"],[93,45,43,66],[93,47,43,68,"data"],[93,51,43,78],[93,56,43,83],[94,4,44,2],[94,8,44,6],[95,6,45,4],[95,12,45,10,"Notifications"],[95,25,45,23],[95,26,45,24,"scheduleNotificationAsync"],[95,51,45,49],[95,52,45,50],[96,8,46,6,"content"],[96,15,46,13],[96,17,46,15],[97,10,47,8,"title"],[97,15,47,13],[98,10,48,8,"body"],[98,14,48,12],[99,10,49,8,"data"],[99,14,49,12],[100,10,50,8,"sound"],[100,15,50,13],[100,17,50,15],[101,8,51,6],[101,9,51,7],[102,8,52,6,"trigger"],[102,15,52,13],[102,17,52,15],[102,21,52,19],[102,22,52,21],[103,6,53,4],[103,7,53,5],[103,8,53,6],[104,4,54,2],[104,5,54,3],[104,6,54,4],[104,13,54,11,"error"],[104,18,54,16],[104,20,54,18],[105,6,55,4,"console"],[105,13,55,11],[105,14,55,12,"error"],[105,19,55,17],[105,20,55,18],[105,49,55,47],[105,51,55,49,"error"],[105,56,55,54],[105,57,55,55],[106,4,56,2],[107,2,57,0],[107,3,57,1],[108,2,59,7],[108,8,59,13,"addNotificationListener"],[108,31,59,36],[108,34,59,40,"callback"],[108,42,59,77],[108,46,59,82],[109,4,60,2],[109,11,60,9,"Notifications"],[109,24,60,22],[109,25,60,23,"addNotificationReceivedListener"],[109,56,60,54],[109,57,60,55,"callback"],[109,65,60,63],[109,66,60,64],[110,2,61,0],[110,3,61,1],[111,2,63,7],[111,8,63,13,"addNotificationResponseListener"],[111,39,63,44],[111,42,63,48,"callback"],[111,50,63,81],[111,54,63,86],[112,4,64,2],[112,11,64,9,"Notifications"],[112,24,64,22],[112,25,64,23,"addNotificationResponseReceivedListener"],[112,64,64,62],[112,65,64,63,"callback"],[112,73,64,71],[112,74,64,72],[113,2,65,0],[113,3,65,1],[114,0,65,2],[114,3]],"functionMap":{"names":["<global>","Notifications.setNotificationHandler$argument_0.handleNotification","initializeOneSignal","sendNotification","addNotificationListener","addNotificationResponseListener"],"mappings":"AAA;sBCQ;IDI;mCEG;CFyB;gCGE;CHc;uCIE;CJE;+CKE;CLE"},"hasCjsExports":false},"type":"js/module"}]}