{"dependencies":[{"name":"expo-constants","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":39,"index":39}}],"key":"pPv5KzfRT0rL6NCr7G9k0o4d1W8=","exportNames":["*"],"imports":1}},{"name":"expo-notifications","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":40},"end":{"line":2,"column":52,"index":92}}],"key":"nrBDtkRVez7cBhLzyaRjl+xVfvE=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  Object.defineProperty(exports, \"initializeOneSignal\", {\n    enumerable: true,\n    get: function () {\n      return initializeOneSignal;\n    }\n  });\n  Object.defineProperty(exports, \"sendNotification\", {\n    enumerable: true,\n    get: function () {\n      return sendNotification;\n    }\n  });\n  Object.defineProperty(exports, \"addNotificationListener\", {\n    enumerable: true,\n    get: function () {\n      return addNotificationListener;\n    }\n  });\n  Object.defineProperty(exports, \"addNotificationResponseListener\", {\n    enumerable: true,\n    get: function () {\n      return addNotificationResponseListener;\n    }\n  });\n  var _expoConstants = require(_dependencyMap[0], \"expo-constants\");\n  var Constants = _interopDefault(_expoConstants);\n  var _expoNotifications = require(_dependencyMap[1], \"expo-notifications\");\n  var Notifications = _interopNamespace(_expoNotifications);\n  const ONESIGNAL_APP_ID = Constants.default.expoConfig?.extra?.EXPO_PUBLIC_ONESIGNAL_APP_ID || process.env.EXPO_PUBLIC_ONESIGNAL_APP_ID;\n\n  // Configurar el comportamiento de las notificaciones\n  Notifications.setNotificationHandler({\n    handleNotification: async () => ({\n      shouldShowAlert: true,\n      shouldPlaySound: true,\n      shouldSetBadge: true\n    })\n  });\n  const initializeOneSignal = async () => {\n    try {\n      // Solicitar permisos de notificaciones\n      const {\n        status: existingStatus\n      } = await Notifications.getPermissionsAsync();\n      let finalStatus = existingStatus;\n      if (existingStatus !== 'granted') {\n        const {\n          status\n        } = await Notifications.requestPermissionsAsync();\n        finalStatus = status;\n      }\n      if (finalStatus !== 'granted') {\n        console.warn('Failed to get push token for push notification!');\n        return null;\n      }\n\n      // Obtener el token de notificaciÃ³n\n      const token = (await Notifications.getExpoPushTokenAsync()).data;\n      console.log('Push notification token:', token);\n      return token;\n    } catch (error) {\n      console.error('Error initializing notifications:', error);\n      return null;\n    }\n  };\n  const sendNotification = async (title, body, data) => {\n    try {\n      await Notifications.scheduleNotificationAsync({\n        content: {\n          title,\n          body,\n          data,\n          sound: true\n        },\n        trigger: null // Enviar inmediatamente\n      });\n    } catch (error) {\n      console.error('Error sending notification:', error);\n    }\n  };\n  const addNotificationListener = callback => {\n    return Notifications.addNotificationReceivedListener(callback);\n  };\n  const addNotificationResponseListener = callback => {\n    return Notifications.addNotificationResponseReceivedListener(callback);\n  };\n});","lineCount":113,"map":[[27,2,16,0,"Object"],[27,8,16,0],[27,9,16,0,"defineProperty"],[27,23,16,0],[27,24,16,0,"exports"],[27,31,16,0],[28,4,16,0,"enumerable"],[28,14,16,0],[29,4,16,0,"get"],[29,7,16,0],[29,18,16,0,"get"],[29,19,16,0],[30,6,16,0],[30,13,16,0,"initializeOneSignal"],[30,32,16,0],[31,4,16,0],[32,2,16,0],[33,2,43,0,"Object"],[33,8,43,0],[33,9,43,0,"defineProperty"],[33,23,43,0],[33,24,43,0,"exports"],[33,31,43,0],[34,4,43,0,"enumerable"],[34,14,43,0],[35,4,43,0,"get"],[35,7,43,0],[35,18,43,0,"get"],[35,19,43,0],[36,6,43,0],[36,13,43,0,"sendNotification"],[36,29,43,0],[37,4,43,0],[38,2,43,0],[39,2,59,0,"Object"],[39,8,59,0],[39,9,59,0,"defineProperty"],[39,23,59,0],[39,24,59,0,"exports"],[39,31,59,0],[40,4,59,0,"enumerable"],[40,14,59,0],[41,4,59,0,"get"],[41,7,59,0],[41,18,59,0,"get"],[41,19,59,0],[42,6,59,0],[42,13,59,0,"addNotificationListener"],[42,36,59,0],[43,4,59,0],[44,2,59,0],[45,2,63,0,"Object"],[45,8,63,0],[45,9,63,0,"defineProperty"],[45,23,63,0],[45,24,63,0,"exports"],[45,31,63,0],[46,4,63,0,"enumerable"],[46,14,63,0],[47,4,63,0,"get"],[47,7,63,0],[47,18,63,0,"get"],[47,19,63,0],[48,6,63,0],[48,13,63,0,"addNotificationResponseListener"],[48,44,63,0],[49,4,63,0],[50,2,63,0],[51,2,1,0],[51,6,1,0,"_expoConstants"],[51,20,1,0],[51,23,1,0,"require"],[51,30,1,0],[51,31,1,0,"_dependencyMap"],[51,45,1,0],[52,2,1,0],[52,6,1,0,"Constants"],[52,15,1,0],[52,18,1,0,"_interopDefault"],[52,33,1,0],[52,34,1,0,"_expoConstants"],[52,48,1,0],[53,2,2,0],[53,6,2,0,"_expoNotifications"],[53,24,2,0],[53,27,2,0,"require"],[53,34,2,0],[53,35,2,0,"_dependencyMap"],[53,49,2,0],[54,2,2,0],[54,6,2,0,"Notifications"],[54,19,2,0],[54,22,2,0,"_interopNamespace"],[54,39,2,0],[54,40,2,0,"_expoNotifications"],[54,58,2,0],[55,2,5,0],[55,8,5,6,"ONESIGNAL_APP_ID"],[55,24,5,22],[55,27,5,25,"Constants"],[55,36,5,34],[55,37,5,34,"default"],[55,44,5,34],[55,45,5,35,"expoConfig"],[55,55,5,45],[55,57,5,47,"extra"],[55,62,5,52],[55,64,5,54,"EXPO_PUBLIC_ONESIGNAL_APP_ID"],[55,92,5,82],[55,96,5,86,"process"],[55,103,5,93],[55,104,5,94,"env"],[55,107,5,97],[55,108,5,98,"EXPO_PUBLIC_ONESIGNAL_APP_ID"],[55,136,5,126],[57,2,7,0],[58,2,8,0,"Notifications"],[58,15,8,13],[58,16,8,14,"setNotificationHandler"],[58,38,8,36],[58,39,8,37],[59,4,9,2,"handleNotification"],[59,22,9,20],[59,24,9,22],[59,30,9,22,"handleNotification"],[59,31,9,22],[59,37,9,35],[60,6,10,4,"shouldShowAlert"],[60,21,10,19],[60,23,10,21],[60,27,10,25],[61,6,11,4,"shouldPlaySound"],[61,21,11,19],[61,23,11,21],[61,27,11,25],[62,6,12,4,"shouldSetBadge"],[62,20,12,18],[62,22,12,20],[63,4,13,2],[63,5,13,3],[64,2,14,0],[64,3,14,1],[64,4,14,2],[65,2,16,7],[65,8,16,13,"initializeOneSignal"],[65,27,16,32],[65,30,16,35],[65,36,16,35,"initializeOneSignal"],[65,37,16,35],[65,42,16,47],[66,4,17,2],[66,8,17,6],[67,6,18,4],[68,6,19,4],[68,12,19,10],[69,8,19,12,"status"],[69,14,19,18],[69,16,19,20,"existingStatus"],[70,6,19,35],[70,7,19,36],[70,10,19,39],[70,16,19,45,"Notifications"],[70,29,19,58],[70,30,19,59,"getPermissionsAsync"],[70,49,19,78],[70,50,19,79],[70,51,19,80],[71,6,20,4],[71,10,20,8,"finalStatus"],[71,21,20,19],[71,24,20,22,"existingStatus"],[71,38,20,36],[72,6,22,4],[72,10,22,8,"existingStatus"],[72,24,22,22],[72,29,22,27],[72,38,22,36],[72,40,22,38],[73,8,23,6],[73,14,23,12],[74,10,23,14,"status"],[75,8,23,21],[75,9,23,22],[75,12,23,25],[75,18,23,31,"Notifications"],[75,31,23,44],[75,32,23,45,"requestPermissionsAsync"],[75,55,23,68],[75,56,23,69],[75,57,23,70],[76,8,24,6,"finalStatus"],[76,19,24,17],[76,22,24,20,"status"],[76,28,24,26],[77,6,25,4],[78,6,27,4],[78,10,27,8,"finalStatus"],[78,21,27,19],[78,26,27,24],[78,35,27,33],[78,37,27,35],[79,8,28,6,"console"],[79,15,28,13],[79,16,28,14,"warn"],[79,20,28,18],[79,21,28,19],[79,70,28,68],[79,71,28,69],[80,8,29,6],[80,15,29,13],[80,19,29,17],[81,6,30,4],[83,6,32,4],[84,6,33,4],[84,12,33,10,"token"],[84,17,33,15],[84,20,33,18],[84,21,33,19],[84,27,33,25,"Notifications"],[84,40,33,38],[84,41,33,39,"getExpoPushTokenAsync"],[84,62,33,60],[84,63,33,61],[84,64,33,62],[84,66,33,64,"data"],[84,70,33,68],[85,6,34,4,"console"],[85,13,34,11],[85,14,34,12,"log"],[85,17,34,15],[85,18,34,16],[85,44,34,42],[85,46,34,44,"token"],[85,51,34,49],[85,52,34,50],[86,6,36,4],[86,13,36,11,"token"],[86,18,36,16],[87,4,37,2],[87,5,37,3],[87,6,37,4],[87,13,37,11,"error"],[87,18,37,16],[87,20,37,18],[88,6,38,4,"console"],[88,13,38,11],[88,14,38,12,"error"],[88,19,38,17],[88,20,38,18],[88,55,38,53],[88,57,38,55,"error"],[88,62,38,60],[88,63,38,61],[89,6,39,4],[89,13,39,11],[89,17,39,15],[90,4,40,2],[91,2,41,0],[91,3,41,1],[92,2,43,7],[92,8,43,13,"sendNotification"],[92,24,43,29],[92,27,43,32],[92,33,43,32,"sendNotification"],[92,34,43,39,"title"],[92,39,43,52],[92,41,43,54,"body"],[92,45,43,66],[92,47,43,68,"data"],[92,51,43,78],[92,56,43,83],[93,4,44,2],[93,8,44,6],[94,6,45,4],[94,12,45,10,"Notifications"],[94,25,45,23],[94,26,45,24,"scheduleNotificationAsync"],[94,51,45,49],[94,52,45,50],[95,8,46,6,"content"],[95,15,46,13],[95,17,46,15],[96,10,47,8,"title"],[96,15,47,13],[97,10,48,8,"body"],[97,14,48,12],[98,10,49,8,"data"],[98,14,49,12],[99,10,50,8,"sound"],[99,15,50,13],[99,17,50,15],[100,8,51,6],[100,9,51,7],[101,8,52,6,"trigger"],[101,15,52,13],[101,17,52,15],[101,21,52,19],[101,22,52,21],[102,6,53,4],[102,7,53,5],[102,8,53,6],[103,4,54,2],[103,5,54,3],[103,6,54,4],[103,13,54,11,"error"],[103,18,54,16],[103,20,54,18],[104,6,55,4,"console"],[104,13,55,11],[104,14,55,12,"error"],[104,19,55,17],[104,20,55,18],[104,49,55,47],[104,51,55,49,"error"],[104,56,55,54],[104,57,55,55],[105,4,56,2],[106,2,57,0],[106,3,57,1],[107,2,59,7],[107,8,59,13,"addNotificationListener"],[107,31,59,36],[107,34,59,40,"callback"],[107,42,59,77],[107,46,59,82],[108,4,60,2],[108,11,60,9,"Notifications"],[108,24,60,22],[108,25,60,23,"addNotificationReceivedListener"],[108,56,60,54],[108,57,60,55,"callback"],[108,65,60,63],[108,66,60,64],[109,2,61,0],[109,3,61,1],[110,2,63,7],[110,8,63,13,"addNotificationResponseListener"],[110,39,63,44],[110,42,63,48,"callback"],[110,50,63,81],[110,54,63,86],[111,4,64,2],[111,11,64,9,"Notifications"],[111,24,64,22],[111,25,64,23,"addNotificationResponseReceivedListener"],[111,64,64,62],[111,65,64,63,"callback"],[111,73,64,71],[111,74,64,72],[112,2,65,0],[112,3,65,1],[113,0,65,2],[113,3]],"functionMap":{"names":["<global>","Notifications.setNotificationHandler$argument_0.handleNotification","initializeOneSignal","sendNotification","addNotificationListener","addNotificationResponseListener"],"mappings":"AAA;sBCQ;IDI;mCEG;CFyB;gCGE;CHc;uCIE;CJE;+CKE;CLE"},"hasCjsExports":false},"type":"js/module"}]}