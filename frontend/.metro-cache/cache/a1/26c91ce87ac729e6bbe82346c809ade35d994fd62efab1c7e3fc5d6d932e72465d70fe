{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"expo/virtual/env","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dgHc21cgR+buKc7O3/dChhD5JJk=","exportNames":["*"],"imports":1}},{"name":"expo-constants","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":39,"index":39}}],"key":"pPv5KzfRT0rL6NCr7G9k0o4d1W8=","exportNames":["*"],"imports":1}},{"name":"expo-notifications","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":40},"end":{"line":2,"column":52,"index":92}}],"key":"nrBDtkRVez7cBhLzyaRjl+xVfvE=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  Object.defineProperty(exports, \"initializeOneSignal\", {\n    enumerable: true,\n    get: function () {\n      return initializeOneSignal;\n    }\n  });\n  Object.defineProperty(exports, \"sendNotification\", {\n    enumerable: true,\n    get: function () {\n      return sendNotification;\n    }\n  });\n  Object.defineProperty(exports, \"addNotificationListener\", {\n    enumerable: true,\n    get: function () {\n      return addNotificationListener;\n    }\n  });\n  Object.defineProperty(exports, \"addNotificationResponseListener\", {\n    enumerable: true,\n    get: function () {\n      return addNotificationResponseListener;\n    }\n  });\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0], \"@babel/runtime/helpers/asyncToGenerator\");\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _expoVirtualEnv = require(_dependencyMap[1], \"expo/virtual/env\");\n  var _expoConstants = require(_dependencyMap[2], \"expo-constants\");\n  var Constants = _interopDefault(_expoConstants);\n  var _expoNotifications = require(_dependencyMap[3], \"expo-notifications\");\n  var Notifications = _interopNamespace(_expoNotifications);\n  var ONESIGNAL_APP_ID = Constants.default.expoConfig?.extra?.EXPO_PUBLIC_ONESIGNAL_APP_ID || _expoVirtualEnv.env.EXPO_PUBLIC_ONESIGNAL_APP_ID;\n\n  // Configurar el comportamiento de las notificaciones\n  Notifications.setNotificationHandler({\n    handleNotification: function () {\n      var _ref = (0, _asyncToGenerator.default)(function* () {\n        return {\n          shouldShowAlert: true,\n          shouldPlaySound: true,\n          shouldSetBadge: true\n        };\n      });\n      return function handleNotification() {\n        return _ref.apply(this, arguments);\n      };\n    }()\n  });\n  var initializeOneSignal = /*#__PURE__*/function () {\n    var _ref2 = (0, _asyncToGenerator.default)(function* () {\n      try {\n        // Solicitar permisos de notificaciones\n        var _yield$Notifications$ = yield Notifications.getPermissionsAsync(),\n          existingStatus = _yield$Notifications$.status;\n        var finalStatus = existingStatus;\n        if (existingStatus !== 'granted') {\n          var _yield$Notifications$2 = yield Notifications.requestPermissionsAsync(),\n            status = _yield$Notifications$2.status;\n          finalStatus = status;\n        }\n        if (finalStatus !== 'granted') {\n          console.warn('Failed to get push token for push notification!');\n          return null;\n        }\n\n        // Obtener el token de notificaciÃ³n\n        var token = (yield Notifications.getExpoPushTokenAsync()).data;\n        console.log('Push notification token:', token);\n        return token;\n      } catch (error) {\n        console.error('Error initializing notifications:', error);\n        return null;\n      }\n    });\n    return function initializeOneSignal() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  var sendNotification = /*#__PURE__*/function () {\n    var _ref3 = (0, _asyncToGenerator.default)(function* (title, body, data) {\n      try {\n        yield Notifications.scheduleNotificationAsync({\n          content: {\n            title,\n            body,\n            data,\n            sound: true\n          },\n          trigger: null // Enviar inmediatamente\n        });\n      } catch (error) {\n        console.error('Error sending notification:', error);\n      }\n    });\n    return function sendNotification(_x, _x2, _x3) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n  var addNotificationListener = callback => {\n    return Notifications.addNotificationReceivedListener(callback);\n  };\n  var addNotificationResponseListener = callback => {\n    return Notifications.addNotificationResponseReceivedListener(callback);\n  };\n});","lineCount":131,"map":[[27,2,16,0,"Object"],[27,8,16,0],[27,9,16,0,"defineProperty"],[27,23,16,0],[27,24,16,0,"exports"],[27,31,16,0],[28,4,16,0,"enumerable"],[28,14,16,0],[29,4,16,0,"get"],[29,7,16,0],[29,18,16,0,"get"],[29,19,16,0],[30,6,16,0],[30,13,16,0,"initializeOneSignal"],[30,32,16,0],[31,4,16,0],[32,2,16,0],[33,2,43,0,"Object"],[33,8,43,0],[33,9,43,0,"defineProperty"],[33,23,43,0],[33,24,43,0,"exports"],[33,31,43,0],[34,4,43,0,"enumerable"],[34,14,43,0],[35,4,43,0,"get"],[35,7,43,0],[35,18,43,0,"get"],[35,19,43,0],[36,6,43,0],[36,13,43,0,"sendNotification"],[36,29,43,0],[37,4,43,0],[38,2,43,0],[39,2,59,0,"Object"],[39,8,59,0],[39,9,59,0,"defineProperty"],[39,23,59,0],[39,24,59,0,"exports"],[39,31,59,0],[40,4,59,0,"enumerable"],[40,14,59,0],[41,4,59,0,"get"],[41,7,59,0],[41,18,59,0,"get"],[41,19,59,0],[42,6,59,0],[42,13,59,0,"addNotificationListener"],[42,36,59,0],[43,4,59,0],[44,2,59,0],[45,2,63,0,"Object"],[45,8,63,0],[45,9,63,0,"defineProperty"],[45,23,63,0],[45,24,63,0,"exports"],[45,31,63,0],[46,4,63,0,"enumerable"],[46,14,63,0],[47,4,63,0,"get"],[47,7,63,0],[47,18,63,0,"get"],[47,19,63,0],[48,6,63,0],[48,13,63,0,"addNotificationResponseListener"],[48,44,63,0],[49,4,63,0],[50,2,63,0],[51,2,65,2],[51,6,65,2,"_babelRuntimeHelpersAsyncToGenerator"],[51,42,65,2],[51,45,65,2,"require"],[51,52,65,2],[51,53,65,2,"_dependencyMap"],[51,67,65,2],[52,2,65,2],[52,6,65,2,"_asyncToGenerator"],[52,23,65,2],[52,26,65,2,"_interopDefault"],[52,41,65,2],[52,42,65,2,"_babelRuntimeHelpersAsyncToGenerator"],[52,78,65,2],[53,2,65,2],[53,6,65,2,"_expoVirtualEnv"],[53,21,65,2],[53,24,65,2,"require"],[53,31,65,2],[53,32,65,2,"_dependencyMap"],[53,46,65,2],[54,2,1,0],[54,6,1,0,"_expoConstants"],[54,20,1,0],[54,23,1,0,"require"],[54,30,1,0],[54,31,1,0,"_dependencyMap"],[54,45,1,0],[55,2,1,0],[55,6,1,0,"Constants"],[55,15,1,0],[55,18,1,0,"_interopDefault"],[55,33,1,0],[55,34,1,0,"_expoConstants"],[55,48,1,0],[56,2,2,0],[56,6,2,0,"_expoNotifications"],[56,24,2,0],[56,27,2,0,"require"],[56,34,2,0],[56,35,2,0,"_dependencyMap"],[56,49,2,0],[57,2,2,0],[57,6,2,0,"Notifications"],[57,19,2,0],[57,22,2,0,"_interopNamespace"],[57,39,2,0],[57,40,2,0,"_expoNotifications"],[57,58,2,0],[58,2,5,0],[58,6,5,6,"ONESIGNAL_APP_ID"],[58,22,5,22],[58,25,5,25,"Constants"],[58,34,5,34],[58,35,5,34,"default"],[58,42,5,34],[58,43,5,35,"expoConfig"],[58,53,5,45],[58,55,5,47,"extra"],[58,60,5,52],[58,62,5,54,"EXPO_PUBLIC_ONESIGNAL_APP_ID"],[58,90,5,82],[58,94,5,82,"_expoVirtualEnv"],[58,109,5,82],[58,110,5,82,"env"],[58,113,5,82],[58,114,5,82,"EXPO_PUBLIC_ONESIGNAL_APP_ID"],[58,142,5,126],[60,2,7,0],[61,2,8,0,"Notifications"],[61,15,8,13],[61,16,8,14,"setNotificationHandler"],[61,38,8,36],[61,39,8,37],[62,4,9,2,"handleNotification"],[62,22,9,20],[63,6,9,20],[63,10,9,20,"_ref"],[63,14,9,20],[63,21,9,20,"_asyncToGenerator"],[63,38,9,20],[63,39,9,20,"default"],[63,46,9,20],[63,48,9,22],[64,8,9,22],[64,15,9,35],[65,10,10,4,"shouldShowAlert"],[65,25,10,19],[65,27,10,21],[65,31,10,25],[66,10,11,4,"shouldPlaySound"],[66,25,11,19],[66,27,11,21],[66,31,11,25],[67,10,12,4,"shouldSetBadge"],[67,24,12,18],[67,26,12,20],[68,8,13,2],[68,9,13,3],[69,6,13,3],[69,7,13,4],[70,6,13,4],[70,22,9,2,"handleNotification"],[70,40,9,20,"handleNotification"],[70,41,9,20],[71,8,9,20],[71,15,9,20,"_ref"],[71,19,9,20],[71,20,9,20,"apply"],[71,25,9,20],[71,32,9,20,"arguments"],[71,41,9,20],[72,6,9,20],[73,4,9,20],[74,2,14,0],[74,3,14,1],[74,4,14,2],[75,2,16,7],[75,6,16,13,"initializeOneSignal"],[75,25,16,32],[76,4,16,32],[76,8,16,32,"_ref2"],[76,13,16,32],[76,20,16,32,"_asyncToGenerator"],[76,37,16,32],[76,38,16,32,"default"],[76,45,16,32],[76,47,16,35],[76,60,16,47],[77,6,17,2],[77,10,17,6],[78,8,18,4],[79,8,19,4],[79,12,19,4,"_yield$Notifications$"],[79,33,19,4],[79,42,19,45,"Notifications"],[79,55,19,58],[79,56,19,59,"getPermissionsAsync"],[79,75,19,78],[79,76,19,79],[79,77,19,80],[80,10,19,20,"existingStatus"],[80,24,19,34],[80,27,19,34,"_yield$Notifications$"],[80,48,19,34],[80,49,19,12,"status"],[80,55,19,18],[81,8,20,4],[81,12,20,8,"finalStatus"],[81,23,20,19],[81,26,20,22,"existingStatus"],[81,40,20,36],[82,8,22,4],[82,12,22,8,"existingStatus"],[82,26,22,22],[82,31,22,27],[82,40,22,36],[82,42,22,38],[83,10,23,6],[83,14,23,6,"_yield$Notifications$2"],[83,36,23,6],[83,45,23,31,"Notifications"],[83,58,23,44],[83,59,23,45,"requestPermissionsAsync"],[83,82,23,68],[83,83,23,69],[83,84,23,70],[84,12,23,14,"status"],[84,18,23,20],[84,21,23,20,"_yield$Notifications$2"],[84,43,23,20],[84,44,23,14,"status"],[84,50,23,20],[85,10,24,6,"finalStatus"],[85,21,24,17],[85,24,24,20,"status"],[85,30,24,26],[86,8,25,4],[87,8,27,4],[87,12,27,8,"finalStatus"],[87,23,27,19],[87,28,27,24],[87,37,27,33],[87,39,27,35],[88,10,28,6,"console"],[88,17,28,13],[88,18,28,14,"warn"],[88,22,28,18],[88,23,28,19],[88,72,28,68],[88,73,28,69],[89,10,29,6],[89,17,29,13],[89,21,29,17],[90,8,30,4],[92,8,32,4],[93,8,33,4],[93,12,33,10,"token"],[93,17,33,15],[93,20,33,18],[93,27,33,25,"Notifications"],[93,40,33,38],[93,41,33,39,"getExpoPushTokenAsync"],[93,62,33,60],[93,63,33,61],[93,64,33,62],[93,66,33,64,"data"],[93,70,33,68],[94,8,34,4,"console"],[94,15,34,11],[94,16,34,12,"log"],[94,19,34,15],[94,20,34,16],[94,46,34,42],[94,48,34,44,"token"],[94,53,34,49],[94,54,34,50],[95,8,36,4],[95,15,36,11,"token"],[95,20,36,16],[96,6,37,2],[96,7,37,3],[96,8,37,4],[96,15,37,11,"error"],[96,20,37,16],[96,22,37,18],[97,8,38,4,"console"],[97,15,38,11],[97,16,38,12,"error"],[97,21,38,17],[97,22,38,18],[97,57,38,53],[97,59,38,55,"error"],[97,64,38,60],[97,65,38,61],[98,8,39,4],[98,15,39,11],[98,19,39,15],[99,6,40,2],[100,4,41,0],[100,5,41,1],[101,4,41,1],[101,20,16,13,"initializeOneSignal"],[101,39,16,32,"initializeOneSignal"],[101,40,16,32],[102,6,16,32],[102,13,16,32,"_ref2"],[102,18,16,32],[102,19,16,32,"apply"],[102,24,16,32],[102,31,16,32,"arguments"],[102,40,16,32],[103,4,16,32],[104,2,16,32],[104,5,41,1],[105,2,43,7],[105,6,43,13,"sendNotification"],[105,22,43,29],[106,4,43,29],[106,8,43,29,"_ref3"],[106,13,43,29],[106,20,43,29,"_asyncToGenerator"],[106,37,43,29],[106,38,43,29,"default"],[106,45,43,29],[106,47,43,32],[106,58,43,39,"title"],[106,63,43,52],[106,65,43,54,"body"],[106,69,43,66],[106,71,43,68,"data"],[106,75,43,78],[106,77,43,83],[107,6,44,2],[107,10,44,6],[108,8,45,4],[108,14,45,10,"Notifications"],[108,27,45,23],[108,28,45,24,"scheduleNotificationAsync"],[108,53,45,49],[108,54,45,50],[109,10,46,6,"content"],[109,17,46,13],[109,19,46,15],[110,12,47,8,"title"],[110,17,47,13],[111,12,48,8,"body"],[111,16,48,12],[112,12,49,8,"data"],[112,16,49,12],[113,12,50,8,"sound"],[113,17,50,13],[113,19,50,15],[114,10,51,6],[114,11,51,7],[115,10,52,6,"trigger"],[115,17,52,13],[115,19,52,15],[115,23,52,19],[115,24,52,21],[116,8,53,4],[116,9,53,5],[116,10,53,6],[117,6,54,2],[117,7,54,3],[117,8,54,4],[117,15,54,11,"error"],[117,20,54,16],[117,22,54,18],[118,8,55,4,"console"],[118,15,55,11],[118,16,55,12,"error"],[118,21,55,17],[118,22,55,18],[118,51,55,47],[118,53,55,49,"error"],[118,58,55,54],[118,59,55,55],[119,6,56,2],[120,4,57,0],[120,5,57,1],[121,4,57,1],[121,20,43,13,"sendNotification"],[121,36,43,29,"sendNotification"],[121,37,43,29,"_x"],[121,39,43,29],[121,41,43,29,"_x2"],[121,44,43,29],[121,46,43,29,"_x3"],[121,49,43,29],[122,6,43,29],[122,13,43,29,"_ref3"],[122,18,43,29],[122,19,43,29,"apply"],[122,24,43,29],[122,31,43,29,"arguments"],[122,40,43,29],[123,4,43,29],[124,2,43,29],[124,5,57,1],[125,2,59,7],[125,6,59,13,"addNotificationListener"],[125,29,59,36],[125,32,59,40,"callback"],[125,40,59,77],[125,44,59,82],[126,4,60,2],[126,11,60,9,"Notifications"],[126,24,60,22],[126,25,60,23,"addNotificationReceivedListener"],[126,56,60,54],[126,57,60,55,"callback"],[126,65,60,63],[126,66,60,64],[127,2,61,0],[127,3,61,1],[128,2,63,7],[128,6,63,13,"addNotificationResponseListener"],[128,37,63,44],[128,40,63,48,"callback"],[128,48,63,81],[128,52,63,86],[129,4,64,2],[129,11,64,9,"Notifications"],[129,24,64,22],[129,25,64,23,"addNotificationResponseReceivedListener"],[129,64,64,62],[129,65,64,63,"callback"],[129,73,64,71],[129,74,64,72],[130,2,65,0],[130,3,65,1],[131,0,65,2],[131,3]],"functionMap":{"names":["<global>","Notifications.setNotificationHandler$argument_0.handleNotification","initializeOneSignal","sendNotification","addNotificationListener","addNotificationResponseListener"],"mappings":"AAA;sBCQ;IDI;mCEG;CFyB;gCGE;CHc;uCIE;CJE;+CKE;CLE"},"hasCjsExports":false},"type":"js/module"}]}